# HomeworkStorageBot
Telegram-bot для учета домашних заданий.
Телеграм бот предоставляет пользователю следующие возможности:
- ввод данных о дисциплине и задании;
- хранение данных о дисциплине и задании;
- просмотр данных о дисциплине и задании;
- изменение данных о дисциплине и задании;
- удаление данных о дисциплине и задании.
Программа реализована на языке Python 3 в среде Visual Studio 2019 с использованием Telegram Bot API. В качестве СУБД используется MySQL.

Модули программы
- Server.py - главный модуль программы;
- db.py - отвечает за подключение и обработку запросов к базе данных;
- Storage.py - отвечает за бизнес-логику предложения;
- Subject.py - является представлением объекта “Дисциплина”;
- AppExceptions.py - отвечает за представление ошибок приложения.

Процедуры и функции программы:
1) Модуль Server содержит следующие асинхронные функции
● async def send_welcome(message: types.Message) - вызывается при вводе команды /start, создает хранилище в базе данных, если у пользователя его
еще нет и выводит сообщение на экран;
● async def helpMSG(message: types.Message) - вызывается при вводе команды /help, выводит сообщение на экран;
● async def addData(message: types.Message) - вызывается при вводе команды /add, если все данные введены верно, то добавляет дисциплину и задание
в базу данных и выводит на экран сообщение об успешном выполнении команды, иначе выводит сообщение о некорректном вводе данных;
● async def addDeadline(message: types.Message) - вызывается при вводе команды /deadline, если все данные введены верно, то добавляет для определенного задания 
дату сдачи в базу данных и выводит на экран сообщение об успешном выполнении команды, иначе выводит сообщение о некорректном вводе данных;
● async def showData(message: types.Message) - вызывается при вводе команды /show, если все данные введены верно, то выводит на экран сообщение с
данными о дисциплине и невыполненных заданиях, иначе выводит сообщение о некорректном вводе данных;
● async def showAllData(message: types.Message) - вызывается при вводе команды /showall, если все данные введены верно, то выводит на экран сообщение
с данными о дисциплине и всех заданиях, как выполненных так и невыполненных, иначе выводит сообщение о некорректном вводе данных;
● async def showLastWeek(message: types.Message) - вызывается при вводе команды /lastweek, выводит на экран сообщение со списком всех заданий по дисциплинам за прошлю неделю;
● async def showLastMonth(message: types.Message) - вызывается при вводе команды /lastmonth, выводит на экран сообщение со списком всех заданий по дисциплинам за прошлый месяц;
● async def showForDeadline(message: types.Message) - вызывается при вводе команды /showdl, выводит на экран сообщениу со списком всех заданий, которые которые нужно сделать до определенной даты;
● async def showSub(message: types.Message) - вызывается при вводе команды /subjects, выводит на экран сообщение со списком всех дисциплин;
● async def isComplete(message: types.Message) - вызывается при вводе команды /done, если все данные введены верно, то меняет в базе данных значение
задания по дисциплине с невыполненного на выполненное и выводит на экран сообщение об успешном выполнении команды, иначе выводит на экран
сообщение о некорректном вводе данных;
● async def showInPeriod(message: types.Message) - вызывается при вводе команды /period, выводит на экран сообщениу со списком всех заданий за определенный период;
● async def delTask(message: types.Message) - вызывается при вводе команды /delete, если все данные введены верно, то удаляет задание из базы данных и выводит на экран сообщение об успешном выполнении команды, иначе
выводит на экран сообщение о некорректном вводе данных;
● async def delSub(message: types.Message) - вызывается при вводе команды /drop, если все данные введены верно, то удаляет дисциплину и
задание(-я) по ней из базы данных и выводит на экран сообщение об успешном выполнении команды, иначе выводит на экран сообщение о некорректном вводе данных;
● async def resetTable(message: types.Message) - вызывается при вводе команды /restore, удаляет все данные о пользователе из базы данных и выводит на
экран сообщение об успешном выполнении команды;
● async def unknown(message: types.Message) - вызывается при вводе любого неизвестного для бота сообщения и/или команды и выводит на экран сообщение об ошибке в воде.

2) Модуль Storage содержит следующие компоненты
класс Storage(object), в котором содержаться следующие cтатические методы
● def IsComplete(id, task_id) - проверяет выполнено ли задание в таблице пользователя в базе данных или нет;
● def AddTable(id) - создает таблицу пользователя в базе данных;
● def AddSub(id, subject) - добавляет дисциплину и задание к ней в таблицу пользователя в базе данных;
● def ShowSub(id, subject_name) - получение данных из таблицы пользователя в базе данных о невыполненных заданиях и их идентификационных номеров по определенной дисциплине;
● def ShowSubNames(id) - получение названий всех дисциплин, которые есть в таблице пользователя в базе данных;
● def ShowAllTasks(id, subject_name) - получение данных из таблицы пользователя в базе данных о всех заданиях, как невыполненных, так и выполненных и их идентификационных 
номеров по определенной дисциплине;
● def DeleteByID(id, task_ID) - удаляет одно задание по определенной дисциплине из таблицы пользователя в базе данных;
● def DeleteService(id, subject_name) - удаляет дисциплину и задания к ней из таблицы пользователя в базе данных;
● def TaskIsComplete(id, task_id) - меняет статус задания с невыполненного на выполненное в таблице пользователя в базе данных;
● def DeleteAll(id) - удаляет таблицу пользователя из базы данных.

3) Модуль db содержит следующие функции
● def initdb(host, user, password, database) - выполняет подключение к необходимой базе данных;
● def checkIsNoTable(id) - проверяет не существует ли таблица пользователя в базе данных;
● def createUserTable(id) - создает таблицу пользователя в базе данных;
● def addSubject(id, subject) - добавляет дисциплину и задание к ней в таблицу пользователя в базе данных;
● def checkID(id, task_id) - проверяет существует ли введенный идентификационный номер задания в таблице пользователя в базе данных;
● def getSubject(id, subject_name) - получение данных из таблицы пользователя в базе данных о невыполненных заданиях и их идентификационных
номеров по определенной дисциплине;
● def getAll(id, subject_name) - получение данных из таблицы пользователя в базе данных о всех заданиях, как невыполненных, так и
выполненных и их идентификационных номеров по определенной дисциплине;
● def getSubjectList(id) - получение названий всех дисциплин, которые есть в таблице пользователя в базе данных;
● def checkIsComlete(id, task_id) - проверяет выполнено ли задание в таблице пользователя в базе данных или нет;
● def subjectComplete(id, task_id) - меняет статус задания с невыполненного на выполненное в таблице пользователя в базе данных;
● def deleteSubjectbyID(id, task_id) - удаляет одно задание по определенной дисциплине из таблицы пользователя в базе данных;
● def deleteSubject(id, subject_name) - удаляет дисциплину и задания к ней из таблицы пользователя в базе данных;
● def deleteAll(id) - удаляет таблицу пользователя из базы данных.

4) Модуль Subject содержит следующие объекты
Класс Subject, в котором содержатся следующие методы
● def __init__(self, name, ID, task, iscomp) - выполняет роль конструктора.

5) Модуль AppExceptions содержит следующие объекты
● класс Cant_Delete_All_Data(Exception) - представляет ошибку о невозможности удаления архива;
● класс Incorrect_Task_Id(Exception) - представляет ошибку о некорректном вводе идентификационного номера задания;
● класс Not_Enough_Data(Exception) - представляет ошибку о недостаточном количестве данных для выполнения команды;
● класс Table_Already_Exist(Exception) - представляет ошибку о том, что у пользователя уже есть таблица с архивом;
● класс Cant_Check_If_Task_Is_Comlete(Exception) - представляет ошибку о невозможности проверки статуса задания (выполнено или выполнено);
● класс Cant_Set_Complete(Exception) - представляет ошибку о невозможности смены статуса задания с невыполненного на выполненное;
● класс Cant_Add_Subject(Exception) - представляет ошибку о невозможности добавления дисциплины и задания по ней;
● класс Cant_Get_Subject(Exception) - представляет ошибку о невозможности получения данных о заданиях по определенной дисциплине;
● класс Cant_Get_Subject_Names(Exception) - представляет ошибку о невозможности получения названий дисциплин;
● класс Cant_Delete_Subject_by_ID(Exception) - представляет ошибку о невозможности удаления заданий по идентификационному номеру;
● класс Cant_Delete_Subject(Exception) - представляет ошибку о невозможности удаления определенной дисциплины и заданий по ней.
